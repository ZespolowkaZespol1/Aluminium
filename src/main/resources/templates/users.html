<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml" lang="pl"
      layout:decorator="layout">
<head>
    <title>Użytkownicy</title>
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <link href="css/dataTables.bootstrap.min.css" rel="stylesheet"/>
    <link href="css/signin.css" rel="stylesheet"/>
</head>

<body>

<div class="container" layout:fragment="content">
    <div class="panel panel-primary">

        <div class="panel-heading">
            <h3 class="panel-title">Użytkownicy</h3>
        </div>
        <div class="panel-body">
            <div th:if="${sukces}" class="alert alert-success" role="alert" th:text="${message}">Usunieto uzytkownika
            </div>
            <div th:if="${blad}" class="alert alert-danger" role="alert" th:text="${message}">Blad</div>
            <table class="table table-striped table-bordered grid" cellspacing="0" width="100%">
                <thead>
                <tr>
                    <th>Login</th>
                    <th>Imię i nazwisko</th>
                    <th>Stan konta</th>
                    <th>Rozwiązane testy</th>
                    <th>Rola</th>
                    <th>Opcje</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="user : ${Users}">
                    <td th:text="${user.email}"></td>
                    <td th:text="${user.name + ' ' + user.lastName}"></td>
                    <td th:if="!${user.accountNonLocked}" th:text="#{users.blocked}"></td>
                    <td th:if="!${user.enabled} and ${user.accountNonLocked}" th:text="#{users.nonActive}"></td>
                    <td th:if="${user.accountNonLocked} and ${user.enabled}" th:text="#{users.active}"></td>
                    <td><a href="#">otwórz</a></td>
                    <td th:text="${user.role}"></td>
                    <td>
                        <a th:href="${'/user/delete/' + user.id}" onclick="return confirmDelete()">
                            <i class="glyphicon glyphicon-remove" aria-hidden="true"
                               th:title="#{users.removeUser}"></i>
                        </a>
                        <a th:href="${'/user/edit/' + user.id}"><span class="glyphicon glyphicon-pencil"
                                                                      aria-hidden="true"></span></a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <footer>
        <p>&copy; 2015-2016 <strong>Uczestnicy Programowania Zespołowego.</strong></p>
    </footer>
</div> <!-- /container -->
</body>
<script layout:fragment="customScripts">
    function confirmDelete() {
        var x;
        if (confirm("Czy na pewno chcesz usunąć?") == true) {
            x = true;
        } else {
            x = false;
        }
        return x;
    }
</script>
</html>